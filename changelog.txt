========================================================================================================================
=== Sitemagic Change Log ===============================================================================================
========================================================================================================================

Changelog 2017-01-08
 - Base
    - PHPMailer: Upgraded due to security bug (CVE-2016-10033).
	- SMEnvironment: Fixed bug in GetMaxUploadSize which caused
	  errors if file uploads were disabled in php.ini.
 - Extensions
    - SMContacts: Now validating filenames for attachments
	  to further strengthen security (related to PHPMailer).


Changelog 2016-12-19
 - Extensions
    - SMContact: Fixed bug corrupting e-mails containing
	  special characters.


Changelog 2016-10-23
 - Extensions
    - SMPages: Fixed stacking problem with Fluid Grids
	  when a fixed cell width was applied.
	- SMPages: Fixed problem with tables generated by
	  extensions got replaced by new CSS based tables
	  which was not the desired behaviour.
	- SMContact: Labels are now stacked on top of
	  input fields by default. This was previously
	  the default behaviour on mobile devices, but
	  now also applies to the desktop view.
 - Templates
    - BaseGeneric: Minor tweak to how margin is handled
	  in mobile optimization CSS.
 - Data
    - Updated demo data.


Changelog 2016-10-19
 - Extensions
    - SMPages: Page viewer now replaces old HTML tables
	  with new CSS based tables.
	- SMPages: Simplified the table plugin in TinyMCE
	  and cleared all CSS classes automatically detected.
	- SMPages: Added support for fluid table grids to TinyMCE.


Changelog 2016-10-18
 - Base
    - SMMail: HTML e-mails are now base64 encoded
	  to prevent corruption with large amounts of data.
	- SMTemplate: It is now possible to initialize
	  the templating engine with an HTML string rather
	  than requiring it to be initialized with an HTML file.
 - Extensions
	- SMConfig: Corrected display value "SSl" to "SSL".
 - Templates
    - All templates: Font-size for rem CSS unit ("base line")
	  now equivalent to font-size set on body, allowing
	  designer to "escape" font-size on a parent element
	  by using rem rather than em, and by that revert to
	  the original font size applied to the document.
	  This is also the default behaviour for a blank page
	  where a font size of 1rem is equivalent to 1em.
	- All templates: Applied fix to all designer definitions
	  to make sure changes to font-size is also applied
	  to legend elements within fieldsets.
 - Misc.
    - SMPages: Prepared htaccess for cloud subsites.


Changelog 2016-10-06
 - Base
    - SMEnvironment: Fixed problem determining path to
	  Sitemagic CMS when URL Rewriting was used, e.g.
	  to map test.domain.com to domain.com/sites/test.
	- SMEnvironment: GetInstallationPath() is now deprecated.
	  Use GetRequestPath() instead which is more reliable
	  when URL rewriting is in use.
	- SMEnvironment: GetDocumentRoot() now returns
	  path to Sitemagic installation rather than root
	  of hosting account.
	- SMController: Replaced use of GetInstallationPath()
	  with new GetRequestPath() function.
 - Extensions
    - SMPages and SMMenu: Replaced use of GetInstallationPath()
	  with new GetRequestPath() function.
 - Templates
    - BaseGeneric: Mobile optimization now only applied
	  to content on main pages, not dialogs.


Changelog 2016-09-17
 - Extensions
    - SMContact: Fixed broken Unicode support.
 - Templates
    - BaseGeneric: Fixed background scaling on mobile devices.


Changelog 2016-08-24
 - Base
    - SMClient: OnLoad handlers registered using SMEventHandler.AddEventHandler
	  now fires immediately if registered after browser fired OnLoad event.
	- SMInput: Encoded HTML was not double encoded when written to UI, causing
	  a value such as "&nbsp;Hello world&nbsp;" to be replaced by " Hello world ".
	  Bug fixed.
	- SMDataSource (XML): Values stored are now double encoded to preserve HTML
	  encoded values (e.g. <p>&lt;i&gt;Hello&lt;/i&gt;</p>).
	- SMDataSource (SQL): Fixed problem with mixed column casing preventing
	  some data entries from being properly escaped.
	- SMEnvironment: Added GetJsonData function.
	- SMStringUtilities: Added EscapeJson function and Email validation.
 - Extensions
    - SMMenu: Added support for tilde (~) in URLs which translate to absolute URL.
	- SMPages: Added support for tilde (~) in links which translate to absolute URL.
	- SMPages: Added support for URL Parameter SMPagesDialog exposed to CSS engine
	  as html.SMPagesViewerDialog class.
	- SMPages: Added Cache Control to htaccess (if Apache2 Headers module is installed).
	- SMAutoUrl: Updated to make sure new htaccess file (SMPages) is installed.
 - Templates
    - BaseGeneric: Fixed minor problem with shadow effects.
 - Misc.
    - Various minor improvements


Changelog 2016-04-28
 - Base
    - GUI: Fixed problem with Fieldset causing scroll when increasing
	  font size (found on login page).
 - Extensions
    - SMExternalModules: Fixed buggy support for width in percent,
	  and removed the option to specify height in percent.
	- SMPages: Now handles relative width for page extension place holder
	  properly, making the place holder stretch the given number of percent.
	- SMSearch: No longer allow user to search inaccessible or password
	  protected pages.
 - Templates
    - BaseGeneric: Added ID attribute to snippets


Changelog 2016-04-02
 - Base
    - Upgraded FontAwesome to version 4.5.
 - Extensions
    - SMDesigner: Fixed problem with Download function which
	  prevented users from canceling filename dialog on Safari
	  which is not W3C complient in its implementation of the
	  prompt(..) function.
 - Misc.
    - .htaccess: Fixed compatibility problems with ISAPI_Rewrite.
	- BaseGeneric template: Fixed problem with navigation menu
	  on mobile which did not stay on top of Fit.UI input fields.


Changelog 2016-03-23
 - Templates
    - Fixed problem with black background color in popups in Widescreen template
 - Misc.
    - Fixed broken subsite called "shop" (sites/shop) which conflicted
	  with new virtual directory for the upcoming shop extension.
	  Also applied varous fixes to make URL Rewriting rules more accurate.


Changelog 2016-03-12
 - Extensions
    - Added SMSearch extension


Changelog 2016-03-10
 - Base
    - SMLinkButton: Now supports Font Awesome icons.
	- SMAttributes: Added Reload function.
	- SMDataSource (XML): Fixed case sensitivity bug in Update function
	  potentially causing a column specified with different casing
	  to be added to XML file multiple times (e.g. xyx/XyZ/XYZ).
	- SMDataSource (SQL): Fixed bug potentially exposing MySQL login
	  on connectivity problems.
	- SMLog: Exception handler now sets appropriate error header:
	  500 Internal Server Error
	- SMMail: Now defaults to HTML format to properly support unicode.
 - Extensions
    - SMAutoSeoUrls: Now deploys new version of .htaccess file on upgrades.
	- SMContact: Now sends out better looking HTML e-mails.
	- SMContact: Fixed bug in IE10-11 causing an error to be thrown when
	  sending e-mails with one or more empty file attachment fields.
	- SMContact: Fixed JavaScript error in Legacy IE (file size calculation).
	  files were selected in all file pickers.
 - Misc.
    - .htaccess: Removed unnecessary escaping of slashes
    - .htaccess: Added /shop virtual directory


Changelog 2015-12-08
 - Misc.
    - Added support for e-mail file attachment to SMContact.
	  This includes various additions to Base.
	  SMMail no longer uses PHP mail(), but relies on PHPMailer.
	- Various minor fixes


Changelog 2015-11-29-3
 - Demo data
    - Removed demo subsite


Changelog 2015-11-29-2
 - Misc.
    - Added French language support (translated by Philippe Garrigues)


Changelog 2015-11-29
 - Base
    - Added SMEnvironment::GetSubSites() function
 - Extensions
    - SMConfig now has a simple (incomplete) subsite administration section
 - Misc.
    - Removed .htaccess in root - automatically installed by SMAutoSeoUrls extension


Changelog 2015-11-22
 - Base
    - Added support for subsites
    - Removed redundant includes (require_once(..))
    - Added SMEnvironment class to SMClient.js
    - Cookies and session data is now isolated to each site
    - All system folders are now referenced using SMEnvironment::GetXyzDirectory()
    - SMEnvironment::GetConfiguration() added for easy access to config.xml.php
    - SMEnvironment::GetDocumentRoot() added
    - SMEnvironment::GetSubsiteDirectory() added
    - SMEnvironment::IsSubSite() added
    - SMFileSystem::HandleFileUpload(..) now supports extension filter
    - SMTemplate file includes now support shared templates on subsites
    - SMTemplate::ClearTemplateOverrides() added
 - Demo data
    - Removed SEO URL configuration preventing SMAutoSeoUrls from running (merged to r4.1.2)
    - Fixed menu links which no longer requires SEO URLs to be enabled to work (merged to r4.1.2)
 - Extensions
    - Extensions now works with subsites
    - SMDesigner now include images from files/images when downloading template
    - SMDesigner no longer discards a value set, if not found in a selector control
    - SMFiles now implements new file extension filter to restrict uploads
 - Misc.
    - Various minor improvements
